# 快看是(:例题)

---



## <mark>排队接水</mark>

知识点：

`下标索引的理解`,选择排序，原始编号移动，前缀和  

![loading-ag-77](./images/屏幕截图%202025-11-05%20212756.png)

解答：

```c++
#include <bits/stdc++.h>
using namespace std;
int main(){
    int n;
    cin>>n;
    double time[n];
    int original_index[n];//设立原始编号，很重要
    for(int i = 0;i<n;i++){
        cin>>time[i];
        original_index[i] = i+1;
    }
    for(int i = 0;i<n;i++){
        int minindex = i;
        for(int j = i+1;j<n;j++){
            if(time[j]<time[minindex]){//利用选择排序从小到大选出索引，完成第一行输出
                minindex = j;
            }
        }
        cout<<original_index[minindex]<<" ";
        swap(time[i],time[minindex]);//防止重复，还是需要交换元素
        swap(original_index[i],original_index[minindex]);//原始编号也要跟着它主人一起移动交换
    }
    cout<<endl;
    double sum = 0;

    double pre[n];//计算每个人除了自己接水，需要额外等待的时间
    pre[0] = 0;//第一个人额外等待时间为0
    for(int i = 1;i<n;i++){//从第二个人开始
        pre[i] = time[i-1]+pre[i-1];//等于他前一个人接水时间加上前一个人额外等待时间
    }

    for(int i = 0;i<n;i++){//计算等待总时间
        sum = sum+pre[i];//修改为正确的等待时间
    }
    double average = sum/n;
    cout<<fixed<<setprecision(3)<<average;
    return 0;
}
```

重点在于原始编号按题目要求改变后，能够正确输出

---
